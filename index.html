<html>
<!DOCTYPE html>
<meta charset="UTF-8">
<head>
    <title>Monoxide</title>

    <meta content="Monoxide" property="og:title">
    <meta content="Web Monoxide by Mist (based from Satorufish Monoxide)" property="og:description">
    <meta content="https://mist0090.github.io/FakeMonoxide-Web" property="og:url">
    <meta content="./Resources/monoxide.png" property="og:image">
	
    <meta content="#6E1200" name="theme-color">
</head>

<meta name="viewport" id="viewport"/>
<meta name="theme-color" content="#000000">

<style>
.drag-and-drop {
    cursor: move;
    width:120px;
    height:120px;
    position: absolute;
    z-index: 1000;
}

.drag {
    z-index: 1001;
}


.drag-and-drop-x {
    cursor: move;
    position: absolute;
    z-index: 2000;
}

.no-drag-and-drop {
    width:120px;
    height:120px;
    position: absolute;
    z-index: 1000;
}

.shadow {
  box-shadow: 0 10px 25px 0 rgba(0, 0, 0, .5);
}

body {
	background-color: #000000;
}
</style>

<body id="body">


<div  style="width: 100%; height: 100%; text-align: center;" onclick="window_load();"><img id="monoimg" style="width: 100%; height: 100%;" src="./Resources/background/background.png"></div>


<div class="drag-and-drop" style=" text-align: center;" id="main">
	<img src="./Resources/MsgBox.gif" class="shadow" onclick="MonoxideAudioPlay();"></img>
</div>

<div class="drag-and-drop" style="display:none; width: 235px; height: 148px;" id="popupsub"><img src="./Resources/popupsub.png"></div>
<div class="drag-and-drop" style="display:none; width: 400; height: 250px;" id="popup"><img src="./Resources/popup.png"></div>

<div class="drag-and-drop" style="display:none; width: 30px; height: 30px;" id="cur"><img src="./Resources/cur.png"></div>

<div class="drag-and-drop" style="display:none; width: 200px; height: 200px;" id="tama"><img src="./Resources/tama.png"></div>


<audio  id="monoxide" style="display:none;" src="./Resources/monoxide.mp3"   loop>???????????????????????¶?????? <code>audio</code>????´?????????????????????????????????????</audio>


</body>

<script>

    function MonoxideAudioPlay()
    {
        document.getElementById( 'monoxide' ).play() ;
        
    }
    
    (function()
    {
    
    
        //?v?f??????
        var elements = document.getElementsByClassName("drag-and-drop");
    
        //?v?f?????N???b?N?????????u???????????O???[?o???i?????????j????
        var x;
        var y;
    
        //?}?E?X???v?f?????????????????A?????^?b?`??????????????
        for(var i = 0; i < elements.length; i++) {
            elements[i].addEventListener("mousedown", mdown, false);
            elements[i].addEventListener("touchstart", mdown, false);
        }
    
        //?}?E?X??????????????????
        function mdown(e) {
        
            MonoxideAudioPlay();
            
            window_load();
    
            //?N???X???? .drag ??????
            this.classList.add("drag");
    
            //?^?b?`?f?C?x???g???}?E?X???C?x???g?????????z??
            if(e.type === "mousedown") {
                var event = e;
            } else {
                var event = e.changedTouches[0];
            }
    
            //?v?f???????????W??????
            x = event.pageX - this.offsetLeft;
            y = event.pageY - this.offsetTop;
    
            //???[?u?C?x???g???R?[???o?b?N
            document.body.addEventListener("mousemove", mmove, false);
            document.body.addEventListener("touchmove", mmove, false);
        }
    
        //?}?E?X?J?[?\???????¢????????????
        function mmove(e) {
    
            document.addEventListener('touchmove', function(event) {event.preventDefault()}, { passive: false });
            
            //?h???b?O?????¢???v?f??????
            var drag = document.getElementsByClassName("drag")[0];
    
            //???l???}?E?X???^?b?`?????????z??
            if(e.type === "mousemove") {
                var event = e;
            } else {
                var event = e.changedTouches[0];
            }
    
            //?t???b?N?????????????????????????¢???????f?t?H???g???????}?§
            e.preventDefault();
    
            //?}?E?X?????¢?????????v?f????????
            drag.style.top = event.pageY - y + "px";
            drag.style.left = event.pageX - x + "px";
    
            //?}?E?X?{?^?????£???????????A???????J?[?\?????O????????????
            drag.addEventListener("mouseup", mup, false);
            document.body.addEventListener("mouseleave", mup, false);
            drag.addEventListener("touchend", mup, false);
            document.body.addEventListener("touchleave", mup, false);
            
            document.removeEventListener('touchmove', handleTouchMove, { passive: false });
    
        }
    
        //?}?E?X?{?^??????????????????
        function mup(e) {
            var drag = document.getElementsByClassName("drag")[0];
    
            //???[?u?x???g?n???h????????
            document.body.removeEventListener("mousemove", mmove, false);
            drag.removeEventListener("mouseup", mup, false);
            document.body.removeEventListener("touchmove", mmove, false);
            drag.removeEventListener("touchend", mup, false);
    
            //?N???X?? .drag ??????
            drag.classList.remove("drag");
        }
    
    })()
    
    
    
    
        var sW,sH,s;
        sW = window.innerWidth - 300;
        sH = window.innerHeight;
        
        let  esW;
        let  esH;
    
        var main = document.getElementById("main");
        main.style.display ="block";
        main.style.width = '200px'; 
        
        var maincss = 'left:' + (sW/2-50) + ';' + 'top:' + (sH/2-150) + ';';
        main.setAttribute('style',maincss);
        
    
    
    
    var waitInt = 100;
    
    async function window_load() {
            
            document.getElementById("tama").style.display ="block";
            
            var elements;
            elements = document.getElementById("tama");
            var curElements;
            curElements = document.getElementById("cur");
            var popupsub_elements;
            popupsub_elements = document.getElementById("popupsub");
            var popup_elements;
            popup_elements = document.getElementById("popup");
            
            var i = 1;
            var k = 0;
            var body;
            var cssBody;
            
            var l = 0;
            for(i=0;i<100;i++){
                await wait2();
                
                esW = Math.floor(Math.random() * sW-300);
                esH = Math.floor(Math.random() * sH);
                var css = 'left:' + esW + ';' + 'top:' + esH + ';';
                elements.setAttribute('style',css);
                
                esW = Math.floor(Math.random() * sW);
                esH = Math.floor(Math.random() * sH);
                css = 'left:' + esW + ';' + 'top:' + esH + ';';
                curElements.setAttribute('style',css);
                
                if(k > 100){
                    esW = Math.floor(Math.random() * sW-250);
                    esH = Math.floor(Math.random() * sH);
                    css = 'left:' + esW + ';' + 'top:' + esH + ';';
                    popupsub_elements.setAttribute('style',css);
                    
                    if(l==4){
                        body = document.getElementById("body");
                        cssBody = 'transform:skew(30deg, 10deg)';
                        body.setAttribute('style',cssBody);
                    }
                    
                }
                
                if(k > 300){
                    esW = Math.floor(Math.random() * sW-500);
                    esH = Math.floor(Math.random() * sH);
                    css = 'left:' + esW + ';' + 'top:' + esH + ';';
                    popup_elements.setAttribute('style',css);
                }
    
                var imgValue = Math.floor(Math.random() * 31);
                document.getElementById("monoimg").src = "./Resources/background/" + imgValue + ".png";
                
                
                if((i % 2)==1){
                    body = document.getElementById("body");
                    cssBody = '';
                    body.setAttribute('style',cssBody);
                }
                
                if(i == 90){
                    i = 0;
                }
                var metaThemeColor = document.querySelector("meta[name=theme-color]");
                var randomColor='#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6);
                metaThemeColor.setAttribute("content", randomColor);
                document.body.style.backgroundColor = randomColor;
                k = k + 1;
                
            l++;
            
            if(l==5){
               l=0;   
            }
            }
    
    }
    
    
    
    
    
    function wait2 () {
        return new Promise( resolve => { setTimeout( resolve, waitInt ) } );
    }
    function wait4 () {
        return new Promise( resolve => { setTimeout( resolve, 3800 ) } );
    }
    
    
    
    
    
    
    
    
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-82101647-1', 'auto');
      ga('send', 'pageview');
    
    </script>

</html>
